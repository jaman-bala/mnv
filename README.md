# Mobile Number Validator (MNV)

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–æ–º–µ—Ä–æ–≤ –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ –¥–ª—è `go-playground/validator`.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 19+ —Å—Ç—Ä–∞–Ω
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `gin-gonic/gin` –∏ `go-playground/validator`
- ‚úÖ –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –°—Ç—Ä–æ–≥–∏–π –∏ –±–∞–∑–æ–≤—ã–π —Ä–µ–∂–∏–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω
- ‚úÖ Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
go get github.com/jaman-bala/mnv
```

## üåç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞–Ω—ã

| –°—Ç—Ä–∞–Ω–∞ | –ö–æ–¥ | –ü—Ä–µ—Ñ–∏–∫—Å | –ü—Ä–∏–º–µ—Ä |
|--------|-----|---------|--------|
| –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω | kg | +996 | +996700123456 |
| –†–æ—Å—Å–∏—è | ru | +7 | +79991234567 |
| –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω | kz | +7 | +77771234567 |
| –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω | uz | +998 | +998901234567 |
| –°–®–ê | us | +1 | +14155552671 |
| –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è | uk | +44 | +441234567890 |
| –ì–µ—Ä–º–∞–Ω–∏—è | de | +49 | +4915123456789 |
| –§—Ä–∞–Ω—Ü–∏—è | fr | +33 | +33612345678 |
| –ò—Ç–∞–ª–∏—è | it | +39 | +393123456789 |
| –¢—É—Ä—Ü–∏—è | tr | +90 | +905123456789 |
| –ò –¥—Ä—É–≥–∏–µ... | | | |

## üîß –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å Gin

```go
package main

import (
    "github.com/gin-gonic/gin"
    "github.com/gin-gonic/gin/binding"
    "github.com/go-playground/validator/v10"
    "github.com/jaman-bala/mnv"
)

type UserRequestDTO struct {
	Name  string `json:"name" binding:"required"`
	Phone string `json:"phone" binding:"required,kg"` // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞
}
```

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–µ

```go
type User struct {
    PhoneNumber string `json:"phone" binding:"required,phonebycountry"`
    Country     string `json:"country" binding:"required"` // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è phonebycountry
}
```

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

```go
// –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã
isValid := mnv.ValidatePhoneForCountry("+996700123456", "kg")

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –ø–æ –Ω–æ–º–µ—Ä—É
country, found := mnv.GetCountryByPhone("+996700123456")

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞
formatted, err := mnv.FormatPhone("+996 700 123 456", "kg")
```

## üè∑Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

| –¢–µ–≥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| `kg` | –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω | `binding:"kg"` |
| `ru` | –†–æ—Å—Å–∏—è | `binding:"ru"` |
| `us` | –°–®–ê | `binding:"us"` |
| `phone` | –õ—é–±–∞—è —Å—Ç—Ä–∞–Ω–∞ | `binding:"phone"` |
| `phonebycountry` | –ü–æ –ø–æ–ª—é Country | `binding:"phonebycountry"` |

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```go
// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
mnv.SetConfig(mnv.ValidatorConfig{
    AllowSpaces:      true,  // –†–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–µ–ª—ã: "+996 700 123 456"
    AllowDashes:      false, // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å —Ç–∏—Ä–µ: "+996-700-123-456"
    AllowParentheses: false, // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å —Å–∫–æ–±–∫–∏: "+996(700)123456"
    StrictMode:       true,  // –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å regex
})
```

## üîç –ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞
```go
‚úÖ "+996700123456"  // –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω
‚úÖ "+79991234567"   // –†–æ—Å—Å–∏—è
‚úÖ "+14155552671"   // –°–®–ê
‚úÖ "+441234567890"  // –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è
```

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞
```go
‚ùå "996700123456"   // –ë–µ–∑ +
‚ùå "+99670012345"   // –ö–æ—Ä–æ—Ç–∫–∏–π –Ω–æ–º–µ—Ä
‚ùå "+996abc123456"  // –°–æ–¥–µ—Ä–∂–∏—Ç –±—É–∫–≤—ã
‚ùå "+99670012345678" // –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π
```

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω—ã

```go
mnv.AddCountry("md", "+373", `^\+373[0-9]{8}$`, 8, 8) // –ú–æ–ª–¥–æ–≤–∞
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω

```go
countries := mnv.GetSupportedCountries()
fmt.Println(countries) // [kg, ru, us, uk, ...]
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã

```go
mnv.RemoveCountry("md")
```

## üåê HTTP API –ø—Ä–∏–º–µ—Ä

```go
// POST /validate
{
    "phone": "+996700123456",
    "country": "kg"  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}

// Response
{
    "phone": "+996700123456",
    "valid": true,
    "detected_country": "kg"
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
go test ./...
```

–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:

```go
func TestKGPhone(t *testing.T) {
    tests := []struct {
        phone string
        valid bool
    }{
        {"+996700123456", true},
        {"+996555123456", true},
        {"+99670012345", false},   // –∫–æ—Ä–æ—Ç–∫–∏–π
        {"+7991234567", false},    // –Ω–µ –∫—ã—Ä–≥—ã–∑—Å–∫–∏–π –∫–æ–¥
    }
    
    for _, tt := range tests {
        result := mnv.ValidatePhoneForCountry(tt.phone, "kg")
        assert.Equal(t, tt.valid, result)
    }
}
```

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

### PhoneCodeInfo
```go
type PhoneCodeInfo struct {
    Prefix    string `json:"prefix"`    // "+996"
    Pattern   string `json:"pattern"`   // –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
    MinLength int    `json:"min_length"`// –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞
    MaxLength int    `json:"max_length"`// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞
}
```

### ValidatorConfig
```go
type ValidatorConfig struct {
    AllowSpaces      bool // –†–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–µ–ª—ã
    AllowDashes      bool // –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–∏—Ä–µ
    AllowParentheses bool // –†–∞–∑—Ä–µ—à–∏—Ç—å —Å–∫–æ–±–∫–∏
    StrictMode       bool // –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º —Å regex
}
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/amazing-feature`)
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç (`git commit -m 'Add amazing feature'`)
4. Push –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üêõ –°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ [issue](https://github.com/jaman-bala/mnv/issues).

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: ermekoffdastan@gmail.com
- üí¨ Telegram: @dermekoff
- üêõ Issues: [GitHub Issues](https://github.com/jaman-bala/mnv/issues)

---

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –º–∏—Ä–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤